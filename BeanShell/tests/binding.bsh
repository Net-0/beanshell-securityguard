#!/bin/java bsh.Interpreter

source("TestHarness.bsh");

// Test 1

foo() {
	foocontext = this;

	calledOutsideFoo( caller ) {
		assert( super == foocontext );
		assert( super != caller );
	}

	return this;
}

foo().calledOutsideFoo( this );

helper() {
	foo().calledOutsideFoo( this );
}

helper();

// End Test 1

// Test 2

baseContext = this;

x=5;
bar( caller ) {
	assert( super == baseContext );
	assert( super != caller );
	assert( super.x == 5 );
}

caller() {
	x=99;
	bar(this);
}

caller();

// End Test 2

complete();
